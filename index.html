<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SkillsSync360</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f4;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1, h2, h3 {
            color: #333;
        }
        input, select {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        button {
            background-color: #007bff;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button.add-member {
            background-color: #28a745;
        }
        button:hover {
            opacity: 0.8;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        .task-row {
            display: flex;
            margin-bottom: 10px;
        }
        .task-row select, .task-row input {
            flex: 1;
            margin-right: 10px;
        }
        #reportContainer {
            margin-top: 20px;
        }
        .chart-container {
            width: 100%;
            max-width: 600px;
            margin: 20px auto;
        }
        .employee-row {
            cursor: pointer;
        }
        .employee-row:hover {
            background-color: #f5f5f5;
        }
        .selected-employee {
            background-color: #e6f7ff;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Welcome to SkillsSync360</h1>
        
        <h2>Team Dashboard</h2>
        <input type="text" id="teamName" placeholder="Team Name">
        <input type="number" id="teamSize" placeholder="Team Size">
        <input type="text" id="teamLeader" placeholder="Team Leader">
        
        <h2>Add Team Member</h2>
        <input type="text" id="memberName" placeholder="Name">
        <select id="memberJob">
            <option value="">Select Job</option>
            <option value="IT/Telco Project Manager">IT/Telco Project Manager</option>
            <!-- Add more job options as needed -->
        </select>
        <select id="talentRating" title="Hover for descriptions">
            <option value="1">1 - Underperformer</option>
            <option value="2">2 - Inconsistent Performer</option>
            <option value="3">3 - Emerging Talent</option>
            <option value="4">4 - Steady Contributor</option>
            <option value="5">5 - Key Contributor</option>
            <option value="6">6 - Future Star</option>
            <option value="7">7 - Solid Performer</option>
            <option value="8">8 - High Performer</option>
            <option value="9">9 - Top Talent/Star</option>
        </select>
        <button onclick="addTeamMember()" class="add-member">Add Team Member</button>
        
        <h2>Team Members</h2>
        <table id="teamMembersTable">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Job</th>
                    <th>Talent Rating</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="teamMembersBody"></tbody>
        </table>
        
        <h2>Task Analysis</h2>
        <div id="taskAnalysis" style="display: none;">
            <h3>Task Analysis for <span id="selectedEmployeeName"></span></h3>
            <div id="taskContainer"></div>
            <button onclick="addTaskRow()">Add Task</button>
        </div>
        
        <button onclick="generateReport()">Generate Report</button>
        
        <div id="reportContainer"></div>
    </div>

    <script>
        const teamMembers = [];
        let selectedEmployee = null;

        const tasks = [
            "Develop project plans and timelines",
            "Coordinate with cross-functional teams",
            "Monitor project budgets",
            "Identify cost-saving opportunities",
            "Identify and mitigate project risks",
            "Provide regular stakeholder updates",
            "Manage stakeholder expectations",
            "Allocate resources effectively",
            "Conduct quality assurance checks",
            "Coordinate with vendors and suppliers",
            "Negotiate contracts with vendors",
            "Resolve project issues promptly",
            "Analyze project performance for improvements",
            "Attend excessive meetings",
            "Perform manual data entry",
            "Micromanage team members",
            "Handle routine administrative tasks",
            "Wait for unnecessary approvals",
            "Provide excessive status updates",
            "Create redundant documentation",
            "Manage non-critical emails"
        ];

        function addTeamMember() {
            const name = document.getElementById('memberName').value;
            const job = document.getElementById('memberJob').value;
            const talentRating = document.getElementById('talentRating').value;
            
            if (name && job && talentRating) {
                teamMembers.push({ name, job, talentRating, tasks: [] });
                updateTeamMembersTable();
                clearTeamMemberInputs();
            } else {
                alert('Please fill in all fields');
            }
        }

        function updateTeamMembersTable() {
            const tbody = document.getElementById('teamMembersBody');
            tbody.innerHTML = '';
            teamMembers.forEach((member, index) => {
                const row = tbody.insertRow();
                row.className = 'employee-row';
                row.onclick = () => selectEmployee(index);
                row.insertCell(0).textContent = member.name;
                row.insertCell(1).textContent = member.job;
                row.insertCell(2).textContent = member.talentRating;
                const deleteButton = document.createElement('button');
                deleteButton.textContent = 'Delete';
                deleteButton.onclick = (e) => {
                    e.stopPropagation();
                    deleteTeamMember(index);
                };
                row.insertCell(3).appendChild(deleteButton);
            });
        }

        function selectEmployee(index) {
            selectedEmployee = teamMembers[index];
            document.querySelectorAll('.employee-row').forEach(row => row.classList.remove('selected-employee'));
            document.querySelectorAll('.employee-row')[index].classList.add('selected-employee');
            document.getElementById('selectedEmployeeName').textContent = selectedEmployee.name;
            document.getElementById('taskAnalysis').style.display = 'block';
            updateTaskContainer();
        }

        function deleteTeamMember(index) {
            teamMembers.splice(index, 1);
            updateTeamMembersTable();
        }

        function clearTeamMemberInputs() {
            document.getElementById('memberName').value = '';
            document.getElementById('memberJob').value = '';
            document.getElementById('talentRating').value = '1';
        }

        function addTaskRow() {
            if (!selectedEmployee) {
                alert('Please select an employee first');
                return;
            }
            selectedEmployee.tasks.push({ name: '', valued: true, proficiency: 1 });
            updateTaskContainer();
        }

        function updateTaskContainer() {
            const container = document.getElementById('taskContainer');
            container.innerHTML = '';
            selectedEmployee.tasks.forEach((task, index) => {
                const row = document.createElement('div');
                row.className = 'task-row';
                row.innerHTML = `
                    <select onchange="updateTask(${index}, 'name', this.value)">
                        <option value="">Select a task</option>
                        ${tasks.map(t => `<option value="${t}" ${task.name === t ? 'selected' : ''}>${t}</option>`).join('')}
                    </select>
                    <select onchange="updateTask(${index}, 'valued', this.value === 'true')">
                        <option value="true" ${task.valued ? 'selected' : ''}>Valued</option>
                        <option value="false" ${!task.valued ? 'selected' : ''}>Non-Valued</option>
                    </select>
                    <select onchange="updateTask(${index}, 'proficiency', parseInt(this.value))">
                        ${[1, 2, 3, 4, 5, 6].map(p => `<option value="${p}" ${task.proficiency === p ? 'selected' : ''}>${p}</option>`).join('')}
                    </select>
                `;
                container.appendChild(row);
            });
        }

        function updateTask(index, property, value) {
            selectedEmployee.tasks[index][property] = value;
        }

        function generateReport() {
            // Report generation code remains the same
            // ... (previous report generation code)
        }

        // Initialize with some sample data
        teamMembers.push(
            { name: "Mike", job: "IT/Telco Project Manager", talentRating: "4", tasks: [] },
            { name: "Bec", job: "IT/Telco Project Manager", talentRating: "6", tasks: [] },
            { name: "John", job: "IT/Telco Project Manager", talentRating: "7", tasks: [] }
        );
        updateTeamMembersTable();
    </script>
</body>
</html>
