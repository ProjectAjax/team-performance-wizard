<script>
    const teamMembers = [];
    const tasks = [
        // ... (keep your existing tasks array)
    ];

    // Explicitly attach functions to the window object
    window.addTeamMember = function() {
        const name = document.getElementById('memberName').value;
        const job = document.getElementById('memberJob').value;
        const talentRating = document.getElementById('talentRating').value;
        if (name && job && talentRating) {
            const newMember = { name, job, talentRating, tasks: [] };
            teamMembers.push(newMember);
            updateEmployeeSelect();
            document.getElementById('memberName').value = '';
            document.getElementById('memberJob').value = '';
            document.getElementById('talentRating').value = '';
            alert('Team member added successfully!');
        } else {
            alert('Please fill in all fields.');
        }
    }

    function updateEmployeeSelect() {
        const select = document.getElementById('employeeSelect');
        select.innerHTML = '<option value="">Select an Employee</option>';
        teamMembers.forEach((member, index) => {
            const option = document.createElement('option');
            option.value = index;
            option.textContent = member.name;
            select.appendChild(option);
        });
    }

    window.resetTaskInputs = function() {
        document.getElementById('taskSelect').value = '';
        document.getElementById('taskValue').value = '';
        document.getElementById('timeSpent').value = '';
        document.getElementById('proficiency').value = '';
        updateTaskTable();
    }

    window.updateTaskValue = function() {
        const taskSelect = document.getElementById('taskSelect');
        const taskValue = document.getElementById('taskValue');
        const selectedTask = tasks.find(t => t.name === taskSelect.value);
        taskValue.value = selectedTask ? (selectedTask.valued ? 'Valued' : 'Non-Valued') : '';
    }

    window.addTask = function() {
        const employeeIndex = document.getElementById('employeeSelect').value;
        const taskName = document.getElementById('taskSelect').value;
        const timeSpent = document.getElementById('timeSpent').value;
        const proficiency = document.getElementById('proficiency').value;

        if (employeeIndex && taskName && timeSpent && proficiency) {
            const task = tasks.find(t => t.name === taskName);
            teamMembers[employeeIndex].tasks.push({
                ...task,
                timeSpent: parseFloat(timeSpent),
                proficiency: parseInt(proficiency)
            });
            updateTaskTable();
            resetTaskInputs();
        } else {
            alert('Please fill in all task details.');
        }
    }

    function updateTaskTable() {
        const employeeIndex = document.getElementById('employeeSelect').value;
        const tableBody = document.getElementById('taskTableBody');
        tableBody.innerHTML = '';
        if (employeeIndex !== "") {
            teamMembers[employeeIndex].tasks.forEach((task, index) => {
                const row = tableBody.insertRow();
                row.className = task.valued ? 'valued' : 'non-valued';
                row.insertCell(0).textContent = task.name;
                row.insertCell(1).textContent = task.valued ? 'Valued' : 'Non-Valued';
                row.insertCell(2).textContent = task.timeSpent + '%';
                row.insertCell(3).textContent = getProficiencyLabel(task.proficiency);
                const deleteButton = document.createElement('button');
                deleteButton.textContent = 'Delete';
                deleteButton.onclick = () => deleteTask(employeeIndex, index);
                row.insertCell(4).appendChild(deleteButton);
            });
        }
    }

    function getProficiencyLabel(proficiency) {
        const labels = ['Novice', 'Advanced Beginner', 'Competent', 'Proficient', 'Expert'];
        return labels[proficiency - 1] || '';
    }

    function deleteTask(employeeIndex, taskIndex) {
        teamMembers[employeeIndex].tasks.splice(taskIndex, 1);
        updateTaskTable();
    }

    window.generateReport = function() {
        // ... (keep your existing generateReport function)
    }

    function generateTalentDistributionChart() {
        // ... (keep your existing chart generation functions)
    }

    function generateTaskValueDistributionChart() {
        // ... (keep your existing chart generation functions)
    }

    function generateSkillsRadarChart() {
        // ... (keep your existing chart generation functions)
    }

    function getTalentLabel(rating) {
        const labels = ['Underperformer', 'Inconsistent Performer', 'Emerging Talent', 'Steady Contributor', 'Key Contributor', 'Future Star', 'Solid Performer', 'High Performer', 'Top Talent/Star'];
        return labels[rating - 1] || '';
    }

    function generateLeadershipInsights() {
        // ... (implement this function to provide leadership insights)
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', function() {
        const taskSelect = document.getElementById('taskSelect');
        tasks.forEach(task => {
            const option = document.createElement('option');
            option.value = task.name;
            option.textContent = task.name;
            taskSelect.appendChild(option);
        });
    });
</script>

Version 2 of 2



Publish

Claude
Could not connect to the reCAPTCHA service. Please check your internet connection and reload to get a reCAPTCHA challenge.
