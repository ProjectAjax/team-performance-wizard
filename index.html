<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SkillsSync360</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        h1, h2, h3 {
            color: #333;
        }
        input, select {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
        }
        button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 15px;
            border: none;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        .task-row {
            display: flex;
            margin-bottom: 10px;
        }
        .task-row select, .task-row input {
            flex: 1;
            margin-right: 10px;
        }
        #reportContainer {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Welcome to SkillsSync360</h1>
        
        <h2>Team Dashboard</h2>
        <input type="text" id="teamName" placeholder="Team Name">
        <input type="number" id="teamSize" placeholder="Team Size">
        <input type="text" id="teamLeader" placeholder="Team Leader">
        
        <h2>Team Details</h2>
        <input type="text" id="memberName" placeholder="Name">
        <input type="text" id="memberRole" placeholder="Role">
        <select id="talentRating" title="Hover for descriptions">
            <option value="1">1 - Underperformer</option>
            <option value="2">2 - Inconsistent Performer</option>
            <option value="3">3 - Emerging Talent</option>
            <option value="4">4 - Steady Contributor</option>
            <option value="5">5 - Key Contributor</option>
            <option value="6">6 - Future Star</option>
            <option value="7">7 - Solid Performer</option>
            <option value="8">8 - High Performer</option>
            <option value="9">9 - Top Talent/Star</option>
        </select>
        <button onclick="addTeamMember()">Add Team Member</button>
        
        <table id="teamMembersTable">
            <tr>
                <th>Name</th>
                <th>Role</th>
                <th>Talent Rating</th>
            </tr>
        </table>
        
        <h2>DILO Task Analysis</h2>
        <div id="taskContainer"></div>
        <button onclick="addTaskRow()">Add Task</button>
        
        <button onclick="generateReport()">Generate Report</button>
        
        <div id="reportContainer"></div>
    </div>

    <script>
        const teamMembers = [];
        const tasks = [
            "Develop project plans and timelines",
            "Coordinate with cross-functional teams",
            "Monitor project budgets",
            "Identify cost-saving opportunities",
            "Identify and mitigate project risks",
            "Provide regular stakeholder updates",
            "Manage stakeholder expectations",
            "Allocate resources effectively",
            "Conduct quality assurance checks",
            "Coordinate with vendors and suppliers",
            "Negotiate contracts with vendors",
            "Resolve project issues promptly",
            "Analyze project performance for improvements",
            "Attend excessive meetings",
            "Perform manual data entry",
            "Micromanage team members",
            "Handle routine administrative tasks",
            "Wait for unnecessary approvals",
            "Provide excessive status updates",
            "Create redundant documentation",
            "Manage non-critical emails"
        ];

        const proficiencyLevels = [
            { level: 1, description: "Novice (1-2): Basic understanding, requires guidance" },
            { level: 2, description: "Novice (1-2): Basic understanding, requires guidance" },
            { level: 3, description: "Intermediate (3-4): Can perform with some support" },
            { level: 4, description: "Intermediate (3-4): Can perform with some support" },
            { level: 5, description: "Proficient (5-6): Competently performs independently" },
            { level: 6, description: "Proficient (5-6): Competently performs independently" },
            { level: 7, description: "Advanced (7-8): High-level performance, guides others" },
            { level: 8, description: "Advanced (7-8): High-level performance, guides others" },
            { level: 9, description: "Expert (9-10): Recognized authority, innovates" },
            { level: 10, description: "Expert (9-10): Recognized authority, innovates" }
        ];

        const skills = [
            "Project Management",
            "Budgeting",
            "Risk Management",
            "Stakeholder Communication",
            "Resource Allocation",
            "Quality Assurance",
            "Vendor Management",
            "Problem-Solving",
            "Data Analysis",
            "Negotiation",
            "Time Management",
            "Leadership",
            "Strategic Planning",
            "Process Improvement",
            "Team Collaboration"
        ];

        function addTeamMember() {
            const name = document.getElementById('memberName').value;
            const role = document.getElementById('memberRole').value;
            const talentRating = document.getElementById('talentRating').value;
            
            if (name && role && talentRating) {
                teamMembers.push({ name, role, talentRating });
                updateTeamMembersTable();
                clearTeamMemberInputs();
            } else {
                alert('Please fill in all fields');
            }
        }

        function updateTeamMembersTable() {
            const table = document.getElementById('teamMembersTable');
            const tbody = table.getElementsByTagName('tbody')[0];
            tbody.innerHTML = '';
            teamMembers.forEach(member => {
                const row = tbody.insertRow();
                row.insertCell(0).textContent = member.name;
                row.insertCell(1).textContent = member.role;
                row.insertCell(2).textContent = member.talentRating;
            });
        }

        function clearTeamMemberInputs() {
            document.getElementById('memberName').value = '';
            document.getElementById('memberRole').value = '';
            document.getElementById('talentRating').value = '1';
        }

        function addTaskRow() {
            const container = document.getElementById('taskContainer');
            const row = document.createElement('div');
            row.className = 'task-row';
            row.innerHTML = `
                <select class="task-name">
                    ${tasks.map(task => `<option value="${task}">${task}</option>`).join('')}
                </select>
                <select class="task-value">
                    <option value="valued">Valued</option>
                    <option value="non-valued">Non-valued</option>
                </select>
                <select class="proficiency-level">
                    ${proficiencyLevels.map(level => `<option value="${level.level}" title="${level.description}">${level.level}</option>`).join('')}
                </select>
                <input type="text" class="skills-required" readonly>
            `;
            container.appendChild(row);
            row.querySelector('.task-value').addEventListener('change', updateProficiencyAndSkills);
            row.querySelector('.proficiency-level').addEventListener('change', updateSkills);
            updateProficiencyAndSkills.call(row.querySelector('.task-value'));
        }

        function updateProficiencyAndSkills() {
            const row = this.closest('.task-row');
            const proficiencySelect = row.querySelector('.proficiency-level');
            const skillsInput = row.querySelector('.skills-required');
            
            if (this.value === 'non-valued') {
                proficiencySelect.disabled = true;
                proficiencySelect.value = '';
                skillsInput.value = 'N/A';
            } else {
                proficiencySelect.disabled = false;
                updateSkills.call(proficiencySelect);
            }
        }

        function updateSkills() {
            if (this.disabled) return;
            const row = this.closest('.task-row');
            const skillsInput = row.querySelector('.skills-required');
            const proficiencyLevel = parseInt(this.value);
            const numberOfSkills = Math.max(1, Math.min(5, 6 - proficiencyLevel));
            const selectedSkills = [];
            while (selectedSkills.length < numberOfSkills) {
                const skill = skills[Math.floor(Math.random() * skills.length)];
                if (!selectedSkills.includes(skill)) {
                    selectedSkills.push(skill);
                }
            }
            skillsInput.value = selectedSkills.join(', ');
        }

        function generateReport() {
            const reportContainer = document.getElementById('reportContainer');
            reportContainer.innerHTML = '<h2>Generated Report</h2>';
            
            // 1. Talent distribution report
            const talentDistribution = {};
            teamMembers.forEach(member => {
                talentDistribution[member.talentRating] = (talentDistribution[member.talentRating] || 0) + 1;
            });
            reportContainer.innerHTML += '<h3>1. Talent Distribution Report</h3>';
            reportContainer.innerHTML += `<canvas id="talentDistributionChart"></canvas>`;
            new Chart(document.getElementById('talentDistributionChart'), {
                type: 'pie',
                data: {
                    labels: Object.keys(talentDistribution),
                    datasets: [{
                        data: Object.values(talentDistribution),
                        backgroundColor: [
                            '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF',
                            '#FF9F40', '#FF6384', '#36A2EB', '#FFCE56'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    title: {
                        display: true,
                        text: 'Talent Distribution'
                    }
                }
            });

            // 2. Valued vs non-valued task distribution
            const taskDistribution = { valued: 0, nonValued: 0 };
            document.querySelectorAll('.task-value').forEach(select => {
                if (select.value === 'valued') taskDistribution.valued++;
                else taskDistribution.nonValued++;
            });
            reportContainer.innerHTML += '<h3>2. Valued vs Non-valued Task Distribution</h3>';
            reportContainer.innerHTML += `<canvas id="taskDistributionChart"></canvas>`;
            new Chart(document.getElementById('taskDistributionChart'), {
                type: 'pie',
                data: {
                    labels: ['Valued Tasks', 'Non-valued Tasks'],
                    datasets: [{
                        data: [taskDistribution.valued, taskDistribution.nonValued],
                        backgroundColor: ['#36A2EB', '#FF6384']
                    }]
                },
                options: {
                    responsive: true,
                    title: {
                        display: true,
                        text: 'Task Distribution'
                    }
                }
            });

            // 3. Proficiency level distribution
            const proficiencyDistribution = {};
            document.querySelectorAll('.proficiency-level').forEach(select => {
                if (!select.disabled) {
                    proficiencyDistribution[select.value] = (proficiencyDistribution[select.value] || 0) + 1;
                }
            });
            reportContainer.innerHTML += '<h3>3. Proficiency Level Distribution</h3>';
            reportContainer.innerHTML += `<canvas id="proficiencyDistributionChart"></canvas>`;
            new Chart(document.getElementById('proficiencyDistributionChart'), {
                type: 'bar',
                data: {
                    labels: Object.keys(proficiencyDistribution),
                    datasets: [{
                        label: 'Proficiency Level',
                        data: Object.values(proficiencyDistribution),
                        backgroundColor: '#4BC0C0'
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    },
                    title: {
                        display: true,
                        text: 'Proficiency Level Distribution'
                    }
                }
            });

            // 4. Skills required distribution
            const skillsDistribution = {};
            document.querySelectorAll('.skills-required').forEach(input => {
                if (input.value !== 'N/A') {
                    input.value.split(', ').forEach(skill => {
                        skillsDistribution[skill] = (skillsDistribution[skill] || 0) + 1;
                    });
                }
            });
            reportContainer.innerHTML += '<h3>4. Skills Required Distribution</h3>';
            reportContainer.innerHTML += `<canvas id="skillsDistributionChart"></canvas>`;
            new Chart(document.getElementById('skillsDistributionChart'), {
                type: 'horizontalBar',
                data: {
                    labels: Object.keys(skillsDistribution),
                    datasets: [{
                        label: 'Skills Required',
                        data: Object.values(skillsDistribution),
                        backgroundColor: '#9966FF'
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        x: {
                            beginAtZero: true
                        }
                    },
                    title: {
                        display: true,
                        text: 'Skills Required Distribution'
                    }
                }
            });
        }

        // Initialize with one task row
        addTaskRow();
    </script>
</body>
</html>
